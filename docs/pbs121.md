# PBS 121 of X — Managing *Dot Files* with Chezmoi

From the first moment I introduced the concept of version control I emphasised the fact that it's for managing all kinds of files, not just code. I've already mentioned that these very show notes are managed in Git, and some listeners/readers have already made use of that fact to contribute typo fixes via pull requests.

The deeper you get into the coding world the more likely you are to start using both the command line and developer tools of all sorts. If you stay in the open source community you're likely to be using a POSIX shell like Bash or Zsh, and most of the open source developer tools have their origins in the Unix/Linux world, so they tend to do things the Unix-way, regardless of which OS you run them on, even on Windows! A big part of the Unix-way is plain-text human-readable configuration files. A very common design pattern is having multiple tiers of config file, with system-wide defaults overridden by user-level settings perhaps overridden at even smaller scales within a user's account. The user-level configurations tend to be store in files or folders who's names start with the dot or period character, so, they're often known as *dot files*.

Managing these so-called dot files is likely to become ever more important the deeper you get down the programming rabbit-hole, so you're like to feel a desire for a tool to help you manage them sooner or later. Lots of such tools exist, and many of them are powered by Git. I use one such tool, and I'd like to introduce you to it, and more importantly, to the problems it might solve for you.

## Matching Podcast Episode

TO DO

## Getting to Know Your Dot Files

System-level config files tend to be stored in the `/etc` (*Editable Text Configuration*) folder and named for the app they control, but user-level config files are usually stored in a user's home directory.

In POSIX operating systems (Unix/Linux/macOS), file names beginning with a `.` are hidden from file listings by default. This is true both on the command line with the `ls` command, and in the OS's file explorer GUIs.

While it's great to be able to view and edit your config files when you want to, you don't really want them cluttering up your view of your home directory all the time. This is why the convention developed to name these config files or the folders that contain them with a leading `.` so as to hide them from view when you're not explicitly looking for them. On the command line you can include hidden files in your file listings by adding the `-a` (for all) flag to the `ls` command.

As mentioned in the previous instalment, POSIX shells use the `~` character to represent a user's home directory, so you'll often see the paths to dot files written as something like `~/.gitconfig`, which simply means *"the file named `.gitconfig` in the current user's home dir"*.

### What About on Windows?

Many open source tools retain the same basic design when ported to Windows, but, rather than using a simple `~` to represent the your home directory, you have to use a pair of environment variables together — `%HOMEDRIVE%` (usually `C:`) & `%HOMEPATH%` (usually `\Users\` followed by your username).

For example, on Windows, your Git config file will be at `%HOMEDRIVE%%HOMEPATH%\.gitconfig`.

***Note** that as with the rest of this series, the examples for the remainder of this instalment will be for POSIX OSes, i.e. Unix, Linux, Mac, and the Linux Subsystem for Windows.*

### Exploring Your Dot Files

At this stage in the series you should have a `~/.gitconfig` file. Every time you use the `git config --local` command youre reading values from, or writing values to, this file.

You can see your user-level Git config with:

```
cat ~/.gitconfig
```

You may well see that some of the Git GUIs you use also add settings to this file. Here's mine on the Mac I podcast from:

```
bart-imac2018:~ bart% cat ~/.gitconfig     
[user]
	email = opensource@bartificer.net
	name = Bart Busschots
[core]
	editor = nano
	excludesfile = /Users/bart/.gitignore_global
[difftool "sourcetree"]
	cmd = opendiff \"$LOCAL\" \"$REMOTE\"
	path = 
[mergetool "sourcetree"]
	cmd = /Applications/Sourcetree.app/Contents/Resources/opendiff-w.sh \"$LOCAL\" \"$REMOTE\" -ancestor \"$BASE\" -merge \"$MERGED\"
	trustExitCode = true
[push]
	followTags = true
[fetch]
	prune = true
bart-imac2018:~ bart% 
```

There's a good change you've got many more dot files though. 

You can combine the `-a` for *all* and `-1` for *single-file-per-line* flags for the `ls` command with the text-filtering command `egrep` (see TTT XXX for more) to list all files and folders in your home directory with names starting with a period:

```
bart-imac2018:~ bart% ls -1a | egrep '^[.]'
./
../
.CFUserTextEncoding
.DS_Store
.Trash/
.bash_history
.bash_sessions/
.bundle/
.config/
.cpan/
.cpanm/
.cups/
.dropbox/
.gem/
.gitconfig
.gitflow_export
.gitignore_global
.gitkraken/
.hgignore_global
.lesshst
.local/
.node_repl_history
.npm/
.npmrc
.rbenv/
.ssh/
.subversion/
.viminfo
.vscode/
.wget-hsts
.zshrc
bart-imac2018:~ bart% 
```

## The Problems to be Solved

The more work you put into customising your shell, your SSH config, your Git config, and so on, the more valuable these dot files will become to you, and more you'll yearn for a good tool for managing them. I see three major *problems to be solved*:

1. **Versioning** — when I mess up, I would like to be able to go back in time to before I messed things up!
2. **Backup/Restore** — if something happens my computer, I'd like to be able to get back to where I was quickly and easily. Also, if I buy a new computer or simply do a fresh install of an OS I'd like to get all my customisations back as quickly and easily as possible.
3. **Sync** — I use many computer, when I put the effort into getting my Git config just so, I'd like the results of that work to follow me around from computer to computer!

I use the open source dot file manager [Chezmoi](https://github.com/twpayne/chezmoi) to address all three of those problems. It's by no means the only option, but it's the one I have direct experience with, so it makes sense to share this one with you.

## Introducing Chezmoi

LET OF HERE!!!

## Final Thoughts

TO DO