# PBS 111 of X â€” Stashing Changes

The instructions in many recent instalments have involved the word *before* â€” *before you start work, check you're on the right branch*, *before you start work on a new feature, create a new branch*, *before you merge a change, make sure you have no uncommitted changes* and so on and so forth. The problem is we're all human, and we're just not good at remembering to do something *before* the thing we're actually trying to achieve! It's simply inevitable that we'll make changes that shouldn't be committed on the current branch, but absolutely should not be lost. Thankfully, Git has our backs with its *stashes* feature.

## Matching Podcast Episode

TO DO

## Instalment Resources

* The instalment ZIP file â€” [pbs111.zip](https://github.com/bartificer/programming-by-stealth/raw/master/instalmentZips/pbs111.zip).

## Playing Along 

If you'd like to play along with the examples you'll need to download this instalment's ZIP file and unzip it. Open a terminal and change to the folder into which you extracted the ZIP . You'll find a file in there named `pbs111a.bundle`, this is a bundled version of the repository we created in the previous instalment, with some an additional commit added to bump the instalment number and fix a typo (the new commit is tagged `v2.5.1`).

Like we did in previous instalments, we need to make a new repository and import all the branches and tags from the bundle. We'll name our new repository `pbs111a`. To create this new repo we'll take the following steps:

1. create a folder named `pbs111a`
2. change into that folder
3. initialise it as a Git repo
4. if needed, change the default branch from `master` to `main`
5. import all branches and tags from the bundle into our new repository

Assuming you have extracted the ZIP file into a folder and opened a terminal in that folder, the commands to do this are:

```
mkdir pbs111a
cd pbs111a
git init
[ `git symbolic-ref --short HEAD` = 'master' ] && git checkout -b main
git fetch --update-head-ok ../pbs111a.bundle '*:*'
git checkout main
```

### Quick Aside â€” Using a Shell Variable in the Terminal
Notice how often we repeat the name of the bundle and repository in the different commands. Putting our programming hat back on for a moment, that probably seems like a *bad smell*. If there were JavaScript we'd surely use a variable? Can we do the same on the terminal? Yes, yes we can!

Assuming you're using one of the standard Linux/macOS shells (SH, Bash, or Zsh), you can define a shell variable using the `=` operator, the syntax is simply:

```
varName=value
```

Note that there **must be no spaces around the `=` symbol**. Also not that if the value contains a space it will need to be quoted in single or double quotes.

To use a shell variable simply include it in your terminal commands pre-fixed with a `$` symbol, e.g.:

```
myFirstShellVar='boogers and poop! ðŸ˜‰'
echo $myFirstShellVar
```
Note that the `echo` command simply prints the value it was passed as an argument, so in this case it prints the value of our variable.

OK, so let's use a shell variable to simplify our initialisation commands, and make them easier to update in each instalment:

```
repo=pbs111a
mkdir $repo; cd $repo
git init; [ `git symbolic-ref --short HEAD` = 'master' ] && git checkout -b main
git fetch --update-head-ok ../$repo.bundle '*:*'
git checkout main
```

The first line creates a shell variable named `repo`. The second line uses the `;` to separate two separate commands, one to create a new folder, and the other to change into it. Note the use of `$repo` to represent the repository name. The third line again uses a `;` to both initialise the newly created folder as a Git repository, and, rename the `master` branch to `main` if needed. The fourth line imports all branches and tags from the bundle, and again, notice the use of `$repo` to represent the name of the repository in the path to the bundle file. The command imports all branches and tags from `../$repo.bundle`. The `..` means *my parent folder*, and `$repo.bundle` represents `pbs111a.bundle`. 

## Git Stashes

LEFT OFF HERE!!!

## Final Thoughts

TO DO